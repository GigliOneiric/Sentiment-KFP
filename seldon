apiVersion: machinelearning.seldon.io/v1
kind: SeldonDeployment
metadata:
  labels:
    app: seldon
  name: seldon-sentimentX
  namespace: kubeflow-user-example-com
spec:
  annotations:
    project_name: NLP PipelineX
    deployment_version: v1
  name: seldon-sentimentX
  predictors:
    - componentSpecs:
        - spec:
            containers:
              - image: 'localhost:5000/seldon-sentiment:0.1'
                imagePullPolicy: IfNotPresent
                name: sentimentX
                volumeMounts:
                  - name: model-volume
                    mountPath: /mnt
                resources:
                  requests:
                    memory: 1Mi
            terminationGracePeriodSeconds: 20
            volumes:
            - name: model-volume
              persistentVolumeClaim:
                claimName: model-volume
      graph:
        children: []
        endpoint:
          type: REST
        name: sentimentX
        type: MODEL
      name: sentimentX
      replicas: 1
      annotations:
        predictor_version: v1
